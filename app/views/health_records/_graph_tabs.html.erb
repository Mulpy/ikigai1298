<ul class="nav tabs-underlined nav-display flex-nowrap" id="myTab" role="tablist">
  <li class="nav-item" role="presentation">
    <span class="nav-link tab-underlined active" id="sys-tab" data-bs-toggle="tab" data-bs-target="#sys-tab-pane" role="tab" aria-controls="sys-tab-pane" aria-selected="true">SYS</span>
  </li>
  <li class="nav-item" role="presentation">
    <span class="nav-link tab-underlined" id="dia-tab" data-bs-toggle="tab" data-bs-target="#dia-tab-pane" role="tab" aria-controls="dia-tab-pane" aria-selected="false">DIA</span>
  </li>
  <li class="nav-item" role="presentation">
    <span class="nav-link tab-underlined" id="m-tab" data-bs-toggle="tab" data-bs-target="#pulse-tab-pane" role="tab" aria-controls="pulse-tab-pane" aria-selected="false">PULSE</span>
  </li>
  <%# <li class="nav-item" role="presentation">
    <span class="nav-link tab-underlined" id="m-tab" data-bs-toggle="tab" data-bs-target="#weight-tab-pane" role="tab" aria-controls="weight-tab-pane" aria-selected="false">WEIGHT</span>
  </li> %>
</ul>
<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade py-3 show active" id="sys-tab-pane" role="tabpanel" aria-labelledby="sys-tab" tabindex="0">
    <canvas
      data-controller="chart"
      data-chart-data-value='{ "labels": ["6days ago", "5days ago", "4days ago", "3days ago", "2days ago", "yesterday", "today"],
                              "datasets": [{ "label": "SYS", "backgroundColor": "transparent", "borderColor": "#3B82F6",
                              "data": [
                                      <%= @health_records.find_by(date: 6.days.ago.to_date)&.sys || 0 %>,
                                      <%= @health_records.find_by(date: 5.days.ago.to_date)&.sys || 0 %>,
                                      <%= @health_records.find_by(date: 4.days.ago.to_date)&.sys || 0 %>,
                                      <%= @health_records.find_by(date: 3.days.ago.to_date)&.sys || 0 %>,
                                      <%= @health_records.find_by(date: 2.days.ago.to_date)&.sys || 0 %>,
                                      <%= @health_records.find_by(date: Date.yesterday)&.sys || 0 %>,
                                      <%= @health_records.find_by(date: Date.today)&.sys || 0 %>
                                      ] }] }'>
    </canvas>
  </div>
  <div class="tab-pane fade py-3" id="dia-tab-pane" role="tabpanel" aria-labelledby="dia-tab" tabindex="0">
    <canvas
      data-controller="chart"
      data-chart-data-value='{ "labels": ["6days ago", "5days ago", "4days ago", "3days ago", "2days ago", "yesterday", "today"],
                              "datasets": [{ "label": "DIA", "backgroundColor": "transparent", "borderColor": "#3B82F6",
                              "data": [
                                      <%= @health_records.find_by(date: 6.days.ago.to_date)&.dia || 0 %>,
                                      <%= @health_records.find_by(date: 5.days.ago.to_date)&.dia || 0 %>,
                                      <%= @health_records.find_by(date: 4.days.ago.to_date)&.dia || 0 %>,
                                      <%= @health_records.find_by(date: 3.days.ago.to_date)&.dia || 0 %>,
                                      <%= @health_records.find_by(date: 2.days.ago.to_date)&.dia || 0 %>,
                                      <%= @health_records.find_by(date: Date.yesterday)&.dia || 0 %>,
                                      <%= @health_records.find_by(date: Date.today)&.dia || 0 %>
                                      ] }] }'>
    </canvas>
  </div>
  <div class="tab-pane fade py-3" id="pulse-tab-pane" role="tabpanel" aria-labelledby="pulse-tab" tabindex="0">
    <canvas
      data-controller="chart"
      data-chart-data-value='{ "labels": ["6days ago", "5days ago", "4days ago", "3days ago", "2days ago", "yesterday", "today"],
                              "datasets": [{ "label": "PULSE", "backgroundColor": "transparent", "borderColor": "#3B82F6",
                              "data": [
                                      <%= @health_records.find_by(date: 6.days.ago.to_date)&.pulse || 0 %>,
                                      <%= @health_records.find_by(date: 5.days.ago.to_date)&.pulse || 0 %>,
                                      <%= @health_records.find_by(date: 4.days.ago.to_date)&.pulse || 0 %>,
                                      <%= @health_records.find_by(date: 3.days.ago.to_date)&.pulse || 0 %>,
                                      <%= @health_records.find_by(date: 2.days.ago.to_date)&.pulse || 0 %>,
                                      <%= @health_records.find_by(date: Date.yesterday)&.pulse || 0 %>,
                                      <%= @health_records.find_by(date: Date.today)&.pulse || 0 %>
                                      ] }] }'>
    </canvas>
  </div>
  <div class="tab-pane fade py-3" id="weight-tab-pane" role="tabpanel" aria-labelledby="weight-tab" tabindex="0">
    <canvas
      data-controller="chart"
      data-chart-data-value='{ "labels": ["6days ago", "5days ago", "4days ago", "3days ago", "2days ago", "yesterday", "today"],
                              "datasets": [{ "label": "WEIGHT", "backgroundColor": "transparent", "borderColor": "#3B82F6",
                              "data": [
                                      <%= @health_records.find_by(date: 6.days.ago.to_date)&.weight || 0 %>,
                                      <%= @health_records.find_by(date: 5.days.ago.to_date)&.weight || 0 %>,
                                      <%= @health_records.find_by(date: 4.days.ago.to_date)&.weight || 0 %>,
                                      <%= @health_records.find_by(date: 3.days.ago.to_date)&.weight || 0 %>,
                                      <%= @health_records.find_by(date: 2.days.ago.to_date)&.weight || 0 %>,
                                      <%= @health_records.find_by(date: Date.yesterday)&.weight || 0 %>,
                                      <%= @health_records.find_by(date: Date.today)&.weight || 0 %>
                                      ] }] }'>
    </canvas>
  </div>
</div>
