<div class="row justify-content-center">
  <% @medicines = Medicine.where(user: current_user) %>
  <% @medicines.order(created_at: :desc).each do |medicine| %>
    <div class="col-12 col-lg-4 m-3 rounded p-0 <%=medicine.status%>">
      <%# <%= link_to support_medicine_path(medicine.user, medicine), class: 'p-3 text-decoration-none text-black' do %>
        <div class="align-items-center justify-content-end">
          <p class="fs-3 text-black m-0 p-3"><%="#{medicine.name}" %></p>
          <p class="fs-3 text-black m-0 p-3">Dosage: <%="#{medicine.dosage}" %>, Remaining: <%="#{medicine.dosage_remaining}" %></p>
        </div>
        <%# <% end %>
        <div class="d-flex">
          <% if medicine.status == "pending" %>
            <div class="d-flex justify-content-between align-items-center">
              <%= simple_form_for medicine do |f| %>
                <%= f.input :status, as: :hidden, input_html: { value: 'taken'} %>
                <%= f.submit 'TAKEN', class: 'btn btn-success mx-3', data: { turbo_confirm: "Are you sure?" } %>
              <% end %>
              <%= simple_form_for medicine do |f| %>
                <%= f.input :status, as: :hidden, input_html: { value: 'lost'} %>
                <%= f.submit 'LOST', class: 'btn btn-danger mx-3', data: { turbo_confirm: "Are you sure?" } %>
              <% end %>
            </div>
          <% else %>
            <!-- Display Status-->
            <h3 class='medicine-tag'><strong><%= medicine.status.upcase %></strong></h3>
            <%= simple_form_for medicine do |f| %>
              <%= f.input :status, as: :hidden, input_html: { value: 'pending'} %>
              <%= f.submit 'RESET', class: 'btn btn-warning mx-3', data: { turbo_confirm: "Are you sure?" } %>
            <% end %>
          <% end %>
        </div>
      </div>
    <% end %>
  </div>
